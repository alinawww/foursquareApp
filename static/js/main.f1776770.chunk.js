(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(3),s=n.n(c),r=(n(15),n(4)),i=n(5),l=n(9),u=n(6),m=n(8),d=n(1);n(17);var v="SPCGCBMXAIUCDAL1JJHXB0OWEIVIWZGKWYCPFQNPAUDZCNQH",f="2IGTREZMXLUYXYIELZ1P4FEQ0VSMXX5DY2GALBQL0NPD34LC",h="https://foursquare.com/oauth2/authenticate?client_id=".concat(v,"&response_type=code&redirect_uri=").concat("http://localhost:3000/","/"),_=window.localStorage.getItem("latitude"),g=window.localStorage.getItem("longitude"),p=window.localStorage.getItem("accessToken"),E=window.location.href.match(/code=([^&]*)/),w={getAccessToken:function(){if(E){var e="https://foursquare.com/oauth2/access_token?client_id=".concat(v,"&client_secret=").concat(f,"&grant_type=authorization_code&redirect_uri=").concat("http://localhost:3000/","&code=").concat(E[1]);fetch(e,{mode:"cors"}).then(function(e){if(console.log("results",e),e.ok)return e.json()}).then(function(e){console.log(e),window.localStorage.setItem("accessToken",e.access_token)})}else window.location=h;return p},findPlaces:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!_||!g)return e=function(e){window.localStorage.setItem("latitude",e.coords.latitude),window.localStorage.setItem("longitude",e.coords.longitude)},void(navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e(t)},function(){t(),console.log("Error: The Geolocation service failed.")}):console.log("Error: Your browser doesn't support geolocation."));var a=["ll=".concat(_,",").concat(g),"client_id=".concat(v),"client_secret=".concat(f),"v=20191106"];n&&(p?a.push("oauth_token=".concat(p)):this.getAccessToken());var o="https://api.foursquare.com/v2/venues/search?".concat(a.join("&"));return fetch(o).then(function(e){return e.json()}).then(function(e){return e.response?e.response.venues.map(function(e){var t=e.categories[0],n=t?"".concat(t.icon.prefix,"64").concat(t.icon.suffix):"";return{id:e.id,name:e.name,address:e.location.address,iconUrl:n}}):[]}).catch(function(e){console.error("Error when getting the venues information:",e)})}},y=n(7),N=(n(19),function(e){var t=e.venue,n=t.iconUrl,a=t.address,c=t.name;return o.a.createElement("div",{className:"venues__item"},o.a.createElement("div",{className:"venues__item-icon"},o.a.createElement("img",{src:n,alt:"venue icon"})),o.a.createElement("div",{className:"venues__item-content"},o.a.createElement("h2",{className:"venues__item-title"},c),a&&o.a.createElement("p",{className:"venue__item-address"},a)))}),b=function(){return o.a.createElement("div",{className:"venues__item"},o.a.createElement("div",{className:"venues__item-icon"},o.a.createElement("span",{className:"fake-element fake-element--icon"},"\xa0")),o.a.createElement("div",{className:"venues__item-content"},o.a.createElement("h2",{className:"venues__item-title"},o.a.createElement("span",{className:"fake-element fake-element--title"},"\xa0")),o.a.createElement("p",{className:"venue__item-address"},o.a.createElement("span",{className:"fake-element fake-element--address"},"\xa0"))))},k=(n(21),function(){return o.a.createElement("div",{className:"venues-empty"},o.a.createElement("h2",{className:"venues-empty__title"},"Where to next?"),o.a.createElement("p",{className:"venues-empty__text"},"Discover places around your by using the options above"),o.a.createElement("img",{className:"venues-empty__image",src:"".concat("/foursquareApp","/assets/undraw_lost.svg"),alt:"woman"}))}),L=function(e){var t,n=e.recommendedVenues,a=e.nearbyVenues,c=e.venuesType,s=e.isLoading;return s||!c.length?t=[]:"nearby"===c?t=a:"recommended"===c&&(t=n),o.a.createElement("div",{className:"foursquare__venues venues"},s&&Object(y.a)(Array(3)).map(function(e,t){return o.a.createElement(b,{key:t,isLoading:s})}),t.length>0&&t.map(function(e){return o.a.createElement(N,{key:e.id,venue:e})}),0===t.length&&!s&&o.a.createElement(k,null))},P=(n(23),function(e){var t=e.findPlaces;return o.a.createElement("div",{className:"intro__actions"},o.a.createElement("button",{className:"intro__button",onClick:function(e){return t(!1)}},"Show me places near me"),o.a.createElement("button",{className:"intro__button",onClick:function(e){return t(!0)}},"Show me recommended"))}),S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={nearbyVenues:[],recommendedVenues:[],error:null,isLoading:!1,code:"",venuesType:""},n.findPlaces=n.findPlaces.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"findPlaces",value:function(e){var t=this;this.setState({isLoading:!0}),w.findPlaces(e).then(function(n){e?t.setState({recommendedVenues:n,venuesType:"recommended",isLoading:!1}):t.setState({nearbyVenues:n,venuesType:"nearby",isLoading:!1})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"foursquare"},o.a.createElement("div",{className:"foursquare__intro intro"},o.a.createElement("h1",{className:"intro__title"},"places."),o.a.createElement(P,{findPlaces:this.findPlaces})),o.a.createElement(L,{recommendedVenues:this.state.recommendedVenues,nearbyVenues:this.state.nearbyVenues,isLoading:this.state.isLoading,venuesType:this.state.venuesType}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.f1776770.chunk.js.map